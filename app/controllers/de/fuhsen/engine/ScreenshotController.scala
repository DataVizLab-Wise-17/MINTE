package controllers.de.fuhsen.engine

import javax.inject.Inject

import com.typesafe.config.ConfigFactory
import play.api.libs.iteratee.Enumerator
import play.api.mvc.{Action, Controller, ResponseHeader, Result}
import play.api.libs.ws.{WSClient, WSRequest, WSResponse}
import play.api.libs.concurrent.Execution.Implicits.defaultContext
import play.api.libs.json._

import scala.concurrent.Future
/**
  * Created by dcollarana on 8/3/2016.
  */
class ScreenshotController @Inject()(ws: WSClient) extends Controller {

  def screenshots(url: String) = Action.async { request =>
    val data = Json.obj(
      "url" -> url
    )

    print(url)

    val futureResponse: Future[WSResponse] = ws.url(ConfigFactory.load.getString("snapshot.pdf.rest.api.url")).withHeaders("Content-Type" -> "application/json").post(data)

    futureResponse.map {
      r =>
        Result(
          header = ResponseHeader(200),
          body = Enumerator(r.bodyAsBytes)
        ).withHeaders( CONTENT_TYPE -> "application/pdf")
    }
  }

  def checkOnionSite(site: String) = Action.async { request =>

    var site_to = site.replaceFirst(".onion/", ".onion.to/")
    site_to = site.replaceFirst(".onion?", ".onion.to/?")

    ws.url(site_to).get().map { response =>
      //print(response.body)
      if(response.body.contains("Tor2web Error: Generic Socks Error")){
        Ok(Json.obj(
          "valid" -> false
        ))
      }else{
        Ok(Json.obj(
          "valid" -> true
        ))
      }
    }
  }

  def piplEmulator(query: String) = Action {
    var body = "{\"@http_status_code\":200,\"@visible_sources\":195,\"@available_sources\":195,\"@persons_count\":39,\"@search_id\":\"1703201414433217727915486463462126083\",\"query\":{\"names\":[{\"first\":\"Diego\",\"last\":\"Vargas\",\"display\":\"Diego Vargas\"}]},\"available_data\":{\"premium\":{\"relationships\":183,\"usernames\":8,\"jobs\":26,\"addresses\":214,\"phones\":16,\"mobile_phones\":8,\"landline_phones\":8,\"educations\":4,\"languages\":41,\"user_ids\":22,\"social_profiles\":20,\"names\":88,\"dobs\":37,\"images\":16,\"genders\":39}},\"possible_persons\":[{\"@match\":0,\"@search_pointer\":\"28e2295373e30f980c3d5f202a8ab9290886e2114a88ed0bdc\",\"names\":[{\"@valid_since\":\"2009-07-02\",\"@last_seen\":\"2016-01-19\",\"first\":\"Diego\",\"middle\":\"Dominguez\",\"last\":\"Vargas\",\"display\":\"Diego Dominguez Vargas\"},{\"@valid_since\":\"2008-01-01\",\"@last_seen\":\"2016-11-19\",\"first\":\"Diego\",\"last\":\"Dominguez\",\"display\":\"Diego Dominguez\"},{\"@valid_since\":\"2011-08-26\",\"@last_seen\":\"2016-01-08\",\"first\":\"Diego\",\"last\":\"Domingue\",\"display\":\"Diego Domingue\"},{\"@valid_since\":\"2012-09-19\",\"@last_seen\":\"2016-06-17\",\"first\":\"Dominguez\",\"last\":\"Jose\",\"display\":\"Dominguez Jose\"}],\"usernames\":[{\"@valid_since\":\"2011-08-26\",\"content\":\"diegodominguez\"},{\"@valid_since\":\"2014-01-01\",\"content\":\"diego.dominguezvargas\"},{\"@valid_since\":\"2012-10-11\",\"@last_seen\":\"2016-01-19\",\"content\":\"diegodom22\"}],\"phones\":[{\"@valid_since\":\"2016-01-08\",\"@last_seen\":\"2016-01-08\",\"@type\":\"mobile\",\"country_code\":57,\"number\":3176157242,\"display\":\"317 6157242\",\"display_international\":\"+57 317 6157242\"}],\"gender\":{\"@valid_since\":\"2008-01-01\",\"content\":\"male\"},\"dob\":{\"@valid_since\":\"2011-11-04\",\"date_range\":{\"start\":\"1966-11-05\",\"end\":\"1967-01-01\"},\"display\":\"50 years old\"},\"languages\":[{\"@inferred\":true,\"region\":\"LA\",\"language\":\"es\",\"display\":\"es_LA\"},{\"language\":\"fr\",\"display\":\"fr\"}],\"addresses\":[{\"@valid_since\":\"2011-08-26\",\"country\":\"ES\",\"city\":\"Mijas\",\"zip_code\":\"29650\",\"display\":\"Mijas, Spain\"},{\"@valid_since\":\"2014-01-01\",\"@last_seen\":\"2016-10-11\",\"@type\":\"work\",\"country\":\"ES\",\"city\":\"Málaga\",\"display\":\"Málaga, Spain\"},{\"@valid_since\":\"2015-09-14\",\"@last_seen\":\"2016-10-11\",\"@type\":\"work\",\"country\":\"ES\",\"city\":\"Marbella\",\"display\":\"Marbella, Spain\"},{\"@valid_since\":\"2008-01-01\",\"country\":\"ES\",\"city\":\"Mijas Costa\",\"display\":\"Mijas Costa, Spain\"},{\"@valid_since\":\"2014-01-01\",\"@last_seen\":\"2015-09-14\",\"@type\":\"work\",\"country\":\"DO\",\"city\":\"Puerto Plata\",\"display\":\"Puerto Plata, Dominican Republic\"},{\"@valid_since\":\"2014-01-01\",\"@last_seen\":\"2015-09-14\",\"@type\":\"old\",\"country\":\"DO\",\"city\":\"Santo Domingo\",\"display\":\"Santo Domingo, Dominican Republic\"},{\"@valid_since\":\"2014-01-01\",\"@last_seen\":\"2015-09-14\",\"country\":\"FR\",\"city\":\"Bailly Romainvilliers\",\"zip_code\":\"77700\",\"display\":\"Bailly Romainvilliers, France\"},{\"@valid_since\":\"2016-01-08\",\"@last_seen\":\"2016-01-08\",\"country\":\"CO\",\"display\":\"Colombia\"}],\"jobs\":[{\"@valid_since\":\"2015-09-14\",\"@last_seen\":\"2016-06-17\",\"title\":\"Fotografo Familiar\",\"organization\":\"Diego Domínguez, Fotógrafo Familiar\",\"date_range\":{\"start\":\"2014-07-01\"},\"display\":\"Fotografo Familiar at Diego Domínguez, Fotógrafo Familiar (since 2014)\"},{\"@valid_since\":\"2016-10-11\",\"@last_seen\":\"2016-11-19\",\"title\":\"Fotografía Creativa\",\"organization\":\"Diego Domínguez, Fotografía Creativa\",\"date_range\":{\"start\":\"2014-07-01\"},\"display\":\"Fotografía Creativa at Diego Domínguez, Fotografía Creativa (since 2014)\"},{\"@valid_since\":\"2013-08-21\",\"@last_seen\":\"2016-10-11\",\"title\":\"Director of Rooms Operations\",\"organization\":\"Marriott's Village D'Ile-de-France\",\"date_range\":{\"start\":\"2011-07-01\",\"end\":\"2014-07-01\"},\"display\":\"Director of Rooms Operations at Marriott's Village D'Ile-de-France (2011-2014)\"},{\"@valid_since\":\"2014-01-01\",\"@last_seen\":\"2016-10-11\",\"title\":\"Project Manager\",\"organization\":\"Marriott's Marbella Beach Resort\",\"date_range\":{\"start\":\"2011-01-01\",\"end\":\"2011-06-01\"},\"display\":\"Project Manager at Marriott's Marbella Beach Resort (2011-2011)\"},{\"@valid_since\":\"2014-01-01\",\"@last_seen\":\"2016-10-11\",\"title\":\"Front Office Manager\",\"organization\":\"Marriott Vacation Club International\",\"date_range\":{\"start\":\"2006-11-01\",\"end\":\"2010-12-01\"},\"display\":\"Front Office Manager at Marriott Vacation Club International (2006-2010)\"},{\"@valid_since\":\"2014-01-01\",\"@last_seen\":\"2016-10-11\",\"title\":\"Director of Services\",\"organization\":\"Marriott's Marbella Beach Resort\",\"date_range\":{\"start\":\"2002-10-01\",\"end\":\"2006-10-01\"},\"display\":\"Director of Services at Marriott's Marbella Beach Resort (2002-2006)\"},{\"@valid_since\":\"2014-01-01\",\"@last_seen\":\"2016-10-11\",\"title\":\"Yield Manager ( Revenue Manager)\",\"organization\":\"Melia Santo Domingo\",\"date_range\":{\"start\":\"2001-03-01\",\"end\":\"2002-07-01\"},\"display\":\"Yield Manager ( Revenue Manager) at Melia Santo Domingo (2001-2002)\"},{\"@valid_since\":\"2014-01-01\",\"@last_seen\":\"2016-10-11\",\"title\":\"Front Desk Manager\",\"organization\":\"Melia Santo Domingo\",\"date_range\":{\"start\":\"1998-01-01\",\"end\":\"2001-02-01\"},\"display\":\"Front Desk Manager at Melia Santo Domingo (1998-2001)\"},{\"@valid_since\":\"2014-01-01\",\"@last_seen\":\"2016-10-11\",\"title\":\"Rooms Division Manager\",\"organization\":\"Playa Naco Golf and Tennis Resort\",\"date_range\":{\"start\":\"1997-01-01\",\"end\":\"1998-12-31\"},\"display\":\"Rooms Division Manager at Playa Naco Golf and Tennis Resort (1997-1998)\"},{\"@valid_since\":\"2014-01-01\",\"@last_seen\":\"2016-10-11\",\"title\":\"Rooms Division Manager\",\"organization\":\"Puerto Plata Village\",\"date_range\":{\"start\":\"1995-01-01\",\"end\":\"1997-12-31\"},\"display\":\"Rooms Division Manager at Puerto Plata Village (1995-1997)\"},{\"@valid_since\":\"2014-01-01\",\"@last_seen\":\"2016-10-11\",\"title\":\"Front Desk Manager\",\"organization\":\"Melia Santo Domingo\",\"date_range\":{\"start\":\"1992-01-01\",\"end\":\"1995-12-31\"},\"display\":\"Front Desk Manager at Melia Santo Domingo (1992-1995)\"},{\"@valid_since\":\"2014-01-01\",\"@last_seen\":\"2016-10-11\",\"title\":\"Gerente de Entretenimientos\",\"organization\":\"Melia Santo Domingo\",\"date_range\":{\"start\":\"1990-01-01\",\"end\":\"1992-12-31\"},\"display\":\"Gerente de Entretenimientos at Melia Santo Domingo (1990-1992)\"},{\"@valid_since\":\"2014-01-01\",\"@last_seen\":\"2016-10-11\",\"title\":\"Rooms Division Manager\",\"organization\":\"Cofresi Beach Resort\",\"date_range\":{\"start\":\"1988-02-01\",\"end\":\"1990-12-31\"},\"display\":\"Rooms Division Manager at Cofresi Beach Resort (1988-1990)\"},{\"@valid_since\":\"2013-08-21\",\"@last_seen\":\"2016-11-19\",\"title\":\"Director of Rooms operations\",\"organization\":\"Marriott Vacation Club International\",\"display\":\"Director of Rooms operations at Marriott Vacation Club International\"}],\"educations\":[{\"@valid_since\":\"2013-08-21\",\"@last_seen\":\"2016-10-11\",\"degree\":\"Hotel Administrator\",\"school\":\"Escuela de Hostelería de Santo Domingo\",\"date_range\":{\"start\":\"1985-01-01\",\"end\":\"1989-12-31\"},\"display\":\"Hotel Administrator from Escuela de Hostelería de Santo Domingo (1985-1989)\"}],\"relationships\":[{\"@valid_since\":\"2010-06-08\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2010-06-08\",\"first\":\"Salomon\",\"middle\":\"Khouri\",\"last\":\"Guzman\",\"display\":\"Salomon Khouri Guzman\"}]},{\"@valid_since\":\"2010-06-08\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2010-06-08\",\"first\":\"Carmen\",\"middle\":\"Galeas\",\"last\":\"Alonso\",\"display\":\"Carmen Galeas Alonso\"}]},{\"@valid_since\":\"2010-06-08\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2010-06-08\",\"first\":\"Sabrina\",\"middle\":\"Nunez\",\"last\":\"Yanguela\",\"display\":\"Sabrina Nunez Yanguela\"}]},{\"@valid_since\":\"2008-01-01\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2008-01-01\",\"first\":\"Francisco\",\"last\":\"Aquino\",\"display\":\"Francisco Aquino\"}]},{\"@valid_since\":\"2010-03-10\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2010-03-10\",\"@type\":\"alias\",\"first\":\"Domingo\",\"last\":\"Vicente\",\"display\":\"Domingo Vicente\"}]},{\"@valid_since\":\"2009-10-12\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2009-10-12\",\"@type\":\"alias\",\"first\":\"Cesar\",\"last\":\"Oliva\",\"display\":\"Cesar Oliva\"}]},{\"@valid_since\":\"2008-01-01\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2008-01-01\",\"@type\":\"alias\",\"first\":\"Mechy\",\"last\":\"Barry\",\"display\":\"Mechy Barry\"}]},{\"@valid_since\":\"2009-07-02\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2009-07-02\",\"first\":\"Amanda\",\"last\":\"Baez\",\"display\":\"Amanda Baez\"}]},{\"@valid_since\":\"2010-06-04\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2010-06-04\",\"first\":\"Daniel\",\"last\":\"Joa\",\"display\":\"Daniel Joa\"}]},{\"@valid_since\":\"2010-06-05\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2010-06-05\",\"first\":\"Magdalena\",\"last\":\"Pietrusinska\",\"display\":\"Magdalena Pietrusinska\"}]},{\"@valid_since\":\"2010-06-07\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2010-06-07\",\"first\":\"Kendra\",\"last\":\"Thomas\",\"display\":\"Kendra Thomas\"}]},{\"@valid_since\":\"2010-06-08\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2010-06-08\",\"first\":\"Ana\",\"last\":\"Mejia\",\"display\":\"Ana Mejia\"}]},{\"@valid_since\":\"2009-07-01\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2009-07-01\",\"first\":\"Gerardo\",\"last\":\"Martins\",\"display\":\"Gerardo Martins\"}]},{\"@valid_since\":\"2010-06-08\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2010-06-08\",\"first\":\"Solange\",\"last\":\"Vélez\",\"display\":\"Solange Vélez\"}]},{\"@valid_since\":\"2010-06-08\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2010-06-08\",\"first\":\"Maija\",\"last\":\"Sprinks\",\"display\":\"Maija Sprinks\"}]},{\"@valid_since\":\"2010-06-08\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2010-06-08\",\"first\":\"Maritza\",\"last\":\"La Paix\",\"display\":\"Maritza La Paix\"}]},{\"@valid_since\":\"2010-06-08\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2010-06-08\",\"first\":\"Wenceslao\",\"last\":\"Figuereo\",\"display\":\"Wenceslao Figuereo\"}]},{\"@valid_since\":\"2009-11-01\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2009-11-01\",\"first\":\"Jenniffer\",\"last\":\"Gomez\",\"display\":\"Jenniffer Gomez\"}]}],\"user_ids\":[{\"@valid_since\":\"2012-10-03\",\"@last_seen\":\"2014-05-11\",\"content\":\"104059922016223370383@google\"},{\"@valid_since\":\"2012-09-19\",\"@last_seen\":\"2016-11-19\",\"content\":\"#9991ab40@linkedin\"},{\"@valid_since\":\"2011-11-04\",\"content\":\"726939@bebo\"},{\"@valid_since\":\"2009-07-02\",\"content\":\"671904683@facebook\"},{\"@valid_since\":\"2008-01-01\",\"content\":\"1796247@hi5\"},{\"@valid_since\":\"2008-01-01\",\"content\":\"9643025@N08@flickr\"},{\"@valid_since\":\"2012-09-19\",\"@last_seen\":\"2016-11-19\",\"content\":\"40/1ab/999@linkedin\"},{\"@valid_since\":\"2012-09-19\",\"@last_seen\":\"2016-11-19\",\"content\":\"143803845@linkedin\"}],\"images\":[{\"@valid_since\":\"2011-08-26\",\"url\":\"http://pictures.wayn.com/photos/60c60/026534198_821004256.jpg\",\"thumbnail_token\":\"AE2861B242686E7DD0CF57804F3898A88899FF639E52A9A838AFD4F49B324AE61D63D683C692EB63689FC4254524DA7B614102B2EE09C54F95D77B5C070E452AACCDCD3503E871BD\"},{\"@valid_since\":\"2016-11-19\",\"@last_seen\":\"2016-11-19\",\"url\":\"https://media.licdn.com/mpr/mprx/0_-iI8Eh3ag4e-yvFkncHmfTruyUR-0bFknhvDu3f8NfsAUQvoq1EuawGOg5x\",\"thumbnail_token\":\"AE2861B20B7D6E22D4C9479C5C7387EF9C9CE823D35EABEA7AAFCEB4822D4BB10463EA989FF4E314369996764078CF5D2F3558ECBD759A1CF78B6455357A0C69A7EF9B6E59A704FF5412EE95C1F4D1868F81B43DF880558C3DF137E98962278DA799E64E5855\"},{\"@valid_since\":\"2013-01-11\",\"url\":\"http://farm4.staticflickr.com/3293/buddyicons/9643025@N08.jpg\",\"thumbnail_token\":\"AE2861B242686E6BD8DE4EC1132E9FE78B91E56BDC58A5AE65F1DFF482720AFB12609AD783D9BF2837C9987F0732DB126D4003B0EB7DB94A9BD77B5C070E452AACCDCD3501E876B9\"},{\"@valid_since\":\"2012-10-03\",\"@last_seen\":\"2014-05-11\",\"url\":\"http://lh4.googleusercontent.com/-LBMOrbnWkco/AAAAAAAAAAI/AAAAAAAAAAA/-3M7vX7BYyw/photo.jpg\",\"thumbnail_token\":\"AE2861B242686E61D1980D9252328CEA9A8DF568C252A9AB63BAD2EFC13E56A4047EF9F7BBF2A93330FD9C721B32A365183272C39F7CB63BEAD6506D2169601884E8B14170FE6DB92A43A08390C5C9AAA9D8AB24A6B14FC320C61FA8D869688DE9C5B2455F54\"},{\"@valid_since\":\"2012-09-21\",\"url\":\"http://socialprofiles.zenfs.com/images/c2d5b874381696a661e77976b5766403_192.jpg\",\"thumbnail_token\":\"AE2861B242686E7ED6CF4A94512D99E99991EA68C31FBCA079B9CFB58C3254E6423ED4D293CEF4326CCEC2734C2AD617614205BBE85CC14C929C261B591F173BF09EC63605E173D5564DE4F5CDF7F7F5BA84B228F4F014DB7885\"},{\"@valid_since\":\"2009-07-02\",\"url\":\"http://graph.facebook.com/671904683/picture?type=large\",\"thumbnail_token\":\"AE2861B242686E6ACBCD539D133B8AE59A9AE962DB1FA5AA7AF08AACDE6409FD1D6B869A86D4B8252BD8922E00649241641F52F0B958D11ED09075115311196AF5\"},{\"@valid_since\":\"2016-01-19\",\"@last_seen\":\"2016-01-19\",\"url\":\"https://s-media-cache-ak0.pinimg.com/avatars/diegodom22_1413898423_140.jpg\",\"thumbnail_token\":\"AE2861B20B7D6E22CA814E9059348AAB9C99E565D51CA7AE27F1CCF2813454AE0530DAD8D9DCAD302ACB85625B798B413E1C57EDB30FC52592CD201F5811196DF79AAF3105E16EE01713F0BFD4EEF4EEEBC2E97CFD\"}]},{\"@match\":0,\"@search_pointer\":\"90213fa4909b194ee49bf79407b994132180fdf2edd80987d4\",\"names\":[{\"@valid_since\":\"2010-07-14\",\"@last_seen\":\"2017-03-20\",\"prefix\":\"Mr\",\"first\":\"Diego\",\"middle\":\"Hernando\",\"last\":\"Vargas\",\"display\":\"Diego Hernando Vargas\"},{\"@valid_since\":\"2013-10-02\",\"first\":\"Hernando\",\"last\":\"Vargas\",\"display\":\"Hernando Vargas\"}],\"usernames\":[{\"@valid_since\":\"2014-01-01\",\"content\":\"diego.vargas.7165\"},{\"@valid_since\":\"2011-03-27\",\"content\":\"diegomillsboro\"}],\"phones\":[{\"@valid_since\":\"2013-10-02\",\"country_code\":1,\"number\":3029479867,\"display\":\"302-947-9867\",\"display_international\":\"302-947-9867\"},{\"@valid_since\":\"2013-10-02\",\"country_code\":1,\"number\":7864640124,\"display\":\"786-464-0124\",\"display_international\":\"786-464-0124\"},{\"@valid_since\":\"2013-10-02\",\"country_code\":1,\"number\":3055597329,\"display\":\"305-559-7329\",\"display_international\":\"305-559-7329\"}],\"gender\":{\"@valid_since\":\"2010-09-07\",\"content\":\"male\"},\"dob\":{\"@valid_since\":\"2012-12-19\",\"date_range\":{\"start\":\"1974-02-14\",\"end\":\"1974-02-14\"},\"display\":\"43 years old\"},\"languages\":[{\"@inferred\":true,\"region\":\"LA\",\"language\":\"es\",\"display\":\"es_LA\"},{\"@inferred\":true,\"region\":\"US\",\"language\":\"en\",\"display\":\"en_US\"}],\"addresses\":[{\"@valid_since\":\"2011-01-09\",\"@last_seen\":\"2017-03-20\",\"country\":\"US\",\"state\":\"FL\",\"city\":\"Miami\",\"street\":\"SW 114Th Avenue\",\"house\":\"2440\",\"zip_code\":\"33165\",\"display\":\"2440 Sw 114th Avenue, Miami, Florida\"},{\"@valid_since\":\"2012-12-19\",\"@last_seen\":\"2017-03-20\",\"country\":\"US\",\"state\":\"FL\",\"city\":\"Miami\",\"street\":\"SW 114Th Avenue\",\"house\":\"2438\",\"zip_code\":\"33165\",\"display\":\"2438 Sw 114th Avenue, Miami, Florida\"},{\"@valid_since\":\"2012-12-19\",\"@last_seen\":\"2017-03-20\",\"country\":\"US\",\"state\":\"FL\",\"city\":\"Doral\",\"zip_code\":\"33178\",\"display\":\"Doral, Florida\"},{\"@valid_since\":\"2011-11-27\",\"@last_seen\":\"2017-03-20\",\"country\":\"US\",\"state\":\"FL\",\"city\":\"Hialeah\",\"street\":\"W 76Th Street\",\"house\":\"2589\",\"apartment\":\"105\",\"zip_code\":\"33016\",\"display\":\"2589-105 W 76th Street, Hialeah, Florida\"},{\"@valid_since\":\"2012-12-19\",\"@last_seen\":\"2017-03-20\",\"country\":\"US\",\"state\":\"DE\",\"city\":\"Millsboro\",\"street\":\"Outrigger Court\",\"house\":\"26092\",\"zip_code\":\"19966\",\"display\":\"26092 Outrigger Court, Millsboro, Delaware\"},{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"@type\":\"home\",\"country\":\"US\",\"state\":\"DE\",\"city\":\"Rehoboth Beach\",\"zip_code\":\"19971\",\"display\":\"Rehoboth Beach, Delaware\"},{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"@type\":\"home\",\"country\":\"US\",\"state\":\"DE\",\"city\":\"Rehoboth Shores\",\"display\":\"Rehoboth Shores, Delaware\"},{\"@valid_since\":\"2012-12-19\",\"@last_seen\":\"2017-03-20\",\"country\":\"US\",\"state\":\"GA\",\"city\":\"Grayson\",\"zip_code\":\"30017\",\"display\":\"Grayson, Georgia\"}],\"relationships\":[{\"@valid_since\":\"2012-12-19\",\"@type\":\"family\",\"names\":[{\"@valid_since\":\"2012-12-19\",\"first\":\"Sintya\",\"middle\":\"G\",\"last\":\"Vargas\",\"display\":\"Sintya G Vargas\"}]},{\"@valid_since\":\"2012-12-19\",\"@type\":\"family\",\"names\":[{\"@valid_since\":\"2012-12-19\",\"first\":\"David\",\"middle\":\"C\",\"last\":\"Vargas\",\"display\":\"David C Vargas\"}]},{\"@valid_since\":\"2012-12-19\",\"@type\":\"family\",\"names\":[{\"@valid_since\":\"2012-12-19\",\"first\":\"Marly\",\"middle\":\"D\",\"last\":\"Vargas\",\"display\":\"Marly D Vargas\"}]},{\"@valid_since\":\"2012-12-19\",\"@type\":\"family\",\"names\":[{\"@valid_since\":\"2012-12-19\",\"first\":\"Rosario\",\"middle\":\"M\",\"last\":\"Vargas\",\"display\":\"Rosario M Vargas\"}]},{\"@valid_since\":\"2012-12-19\",\"@type\":\"family\",\"names\":[{\"@valid_since\":\"2012-12-19\",\"first\":\"Ruth\",\"middle\":\"E\",\"last\":\"Vargas\",\"display\":\"Ruth E Vargas\"}]},{\"@valid_since\":\"2012-12-19\",\"@type\":\"family\",\"names\":[{\"@valid_since\":\"2012-12-19\",\"first\":\"Estela\",\"last\":\"Vargas\",\"display\":\"Estela Vargas\"}]},{\"@valid_since\":\"2012-12-19\",\"@type\":\"family\",\"names\":[{\"@valid_since\":\"2012-12-19\",\"first\":\"Jario\",\"last\":\"Vargas\",\"display\":\"Jario Vargas\"}]},{\"@valid_since\":\"2012-12-19\",\"@type\":\"family\",\"names\":[{\"@valid_since\":\"2012-12-19\",\"first\":\"Maritza\",\"last\":\"Vargas\",\"display\":\"Maritza Vargas\"}]},{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"first\":\"Ana\",\"middle\":\"M\",\"last\":\"Vargas\",\"display\":\"Ana M Vargas\"}]},{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"first\":\"Aleyda\",\"last\":\"Vargas\",\"display\":\"Aleyda Vargas\"}]},{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"first\":\"Carlos\",\"last\":\"Vargas\",\"display\":\"Carlos Vargas\"}]},{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"first\":\"Irialeth\",\"middle\":\"Ina\",\"last\":\"Rizo\",\"display\":\"Irialeth Ina Rizo\"}]},{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"first\":\"Heather\",\"middle\":\"A\",\"last\":\"Shumate\",\"display\":\"Heather A Shumate\"}]},{\"@valid_since\":\"2010-06-07\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2010-06-07\",\"first\":\"Kelly\",\"last\":\"Caraballo\",\"display\":\"Kelly Caraballo\"}]}],\"user_ids\":[{\"@valid_since\":\"2010-07-14\",\"content\":\"1073477148@facebook\"}],\"images\":[{\"@valid_since\":\"2010-07-14\",\"url\":\"http://graph.facebook.com/1073477148/picture?type=large\",\"thumbnail_token\":\"AE2861B242686E6ACBCD539D133B8AE59A9AE962DB1FA5AA7AF08DABD86E0DFE1C62818DD9CDB2322ADF85744B699B543C4E5FE3AC5A925CC78A78485D1B1861F699\"}]},{\"@match\":0,\"@search_pointer\":\"dd08678bea2750d6ca6ad2a9fc285a23685a668971c881ce1d\",\"names\":[{\"@valid_since\":\"2009-07-28\",\"@last_seen\":\"2017-03-20\",\"first\":\"Diego\",\"middle\":\"Alejandro\",\"last\":\"Del Rio\",\"display\":\"Diego Alejandro Del Rio\"},{\"@valid_since\":\"2013-01-20\",\"@last_seen\":\"2017-03-20\",\"first\":\"Diego\",\"middle\":\"Alejandro\",\"last\":\"Vargas\",\"display\":\"Diego Alejandro Vargas\"},{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"@type\":\"present\",\"first\":\"Diego\",\"middle\":\"Alejandro\",\"last\":\"Delrio\",\"display\":\"Diego Alejandro Delrio\"},{\"@valid_since\":\"2013-10-02\",\"@last_seen\":\"2017-03-20\",\"prefix\":\"Mr\",\"first\":\"Diego\",\"middle\":\"Adel\",\"last\":\"Rio\",\"display\":\"Diego Adel Rio\"},{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"@type\":\"present\",\"first\":\"Diego\",\"middle\":\"A\",\"last\":\"Del\",\"display\":\"Diego A Del\"},{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"@type\":\"present\",\"first\":\"Diego\",\"middle\":\"A\",\"last\":\"Delrio Lara\",\"display\":\"Diego A Delrio Lara\"},{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"@type\":\"present\",\"first\":\"Rio\",\"middle\":\"Diego\",\"last\":\"Del\",\"display\":\"Rio Diego Del\"},{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"@type\":\"present\",\"first\":\"Armando\",\"middle\":\"Luis\",\"last\":\"Dulzaides\",\"display\":\"Armando Luis Dulzaides\"}],\"usernames\":[{\"@valid_since\":\"2014-01-01\",\"content\":\"diegoalejandro.delrio.5\"}],\"phones\":[{\"@valid_since\":\"2013-10-02\",\"country_code\":1,\"number\":3054560485,\"display\":\"305-456-0485\",\"display_international\":\"305-456-0485\"},{\"@valid_since\":\"2013-10-02\",\"@last_seen\":\"2015-11-24\",\"@type\":\"mobile\",\"country_code\":1,\"number\":3055622557,\"display\":\"305-562-2557\",\"display_international\":\"305-562-2557\"}],\"gender\":{\"@valid_since\":\"2011-11-15\",\"content\":\"male\"},\"dob\":{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"date_range\":{\"start\":\"1980-08-03\",\"end\":\"1980-08-03\"},\"display\":\"36 years old\"},\"languages\":[{\"@inferred\":true,\"region\":\"US\",\"language\":\"en\",\"display\":\"en_US\"}],\"addresses\":[{\"@valid_since\":\"2009-07-28\",\"@last_seen\":\"2017-03-20\",\"@type\":\"old\",\"country\":\"US\",\"state\":\"FL\",\"city\":\"Wilton Manors\",\"zip_code\":\"33311\",\"display\":\"Wilton Manors, Florida\"},{\"@valid_since\":\"2009-07-28\",\"@last_seen\":\"2017-03-20\",\"@type\":\"home\",\"country\":\"US\",\"state\":\"FL\",\"city\":\"Miami\",\"zip_code\":\"33155\",\"display\":\"Miami, Florida\"},{\"@valid_since\":\"2009-07-28\",\"@last_seen\":\"2017-03-20\",\"@type\":\"home\",\"country\":\"US\",\"state\":\"FL\",\"city\":\"Hialeah\",\"street\":\"W 46Th Street\",\"house\":\"1630\",\"zip_code\":\"33010\",\"display\":\"1630 W 46th Street, Hialeah, Florida\"},{\"@valid_since\":\"2009-07-28\",\"@last_seen\":\"2017-03-20\",\"@type\":\"home\",\"country\":\"US\",\"state\":\"FL\",\"city\":\"Deerfield Beach\",\"zip_code\":\"33442\",\"display\":\"Deerfield Beach, Florida\"},{\"@valid_since\":\"2009-07-28\",\"@last_seen\":\"2017-03-20\",\"@type\":\"home\",\"country\":\"US\",\"state\":\"FL\",\"city\":\"North Bay Village\",\"zip_code\":\"33141\",\"display\":\"North Bay Village, Florida\"},{\"@valid_since\":\"2009-07-28\",\"@last_seen\":\"2017-03-20\",\"@type\":\"home\",\"country\":\"US\",\"state\":\"FL\",\"city\":\"Miami Gardens\",\"zip_code\":\"33055\",\"display\":\"Miami Gardens, Florida\"},{\"@valid_since\":\"2009-07-28\",\"@last_seen\":\"2017-03-20\",\"@type\":\"home\",\"country\":\"US\",\"state\":\"FL\",\"city\":\"Homestead\",\"zip_code\":\"33034\",\"display\":\"Homestead, Florida\"},{\"@valid_since\":\"2009-07-28\",\"@last_seen\":\"2017-03-20\",\"@type\":\"home\",\"country\":\"US\",\"state\":\"FL\",\"city\":\"Clearwater\",\"street\":\"Blue Taverna Lane\",\"house\":\"631\",\"zip_code\":\"33756\",\"display\":\"631 Blue Taverna Lane, Clearwater, Florida\"},{\"@valid_since\":\"2009-07-28\",\"@last_seen\":\"2017-03-20\",\"@type\":\"home\",\"country\":\"US\",\"state\":\"FL\",\"city\":\"Hallandale Beach\",\"zip_code\":\"33009\",\"display\":\"Hallandale Beach, Florida\"},{\"@valid_since\":\"2009-07-28\",\"@last_seen\":\"2017-03-20\",\"@type\":\"home\",\"country\":\"US\",\"state\":\"FL\",\"city\":\"Orlando\",\"zip_code\":\"32824\",\"display\":\"Orlando, Florida\"},{\"@valid_since\":\"2009-07-28\",\"@last_seen\":\"2016-09-29\",\"country\":\"US\",\"state\":\"FL\",\"city\":\"Miami Beach\",\"display\":\"Miami Beach, Florida\"},{\"@valid_since\":\"2011-11-15\",\"@last_seen\":\"2017-03-20\",\"@type\":\"home\",\"country\":\"US\",\"state\":\"NJ\",\"city\":\"Union City\",\"street\":\"9Th Street\",\"house\":\"413\",\"apartment\":\"505\",\"zip_code\":\"07087\",\"display\":\"413-505 9th Street, Union City, New Jersey\"},{\"@valid_since\":\"2011-07-09\",\"@last_seen\":\"2015-01-14\",\"country\":\"US\",\"state\":\"NJ\",\"city\":\"Jersey City\",\"street\":\"Columbia Avenue\",\"house\":\"269\",\"zip_code\":\"07307\",\"display\":\"269 Columbia Avenue, Jersey City, New Jersey\"}],\"jobs\":[{\"@valid_since\":\"2012-09-22\",\"@last_seen\":\"2016-09-29\",\"title\":\"Quality Assurance Analyst\",\"organization\":\"Wells Fargo Financial\",\"industry\":\"Financial Services\",\"date_range\":{\"start\":\"2009-12-01\"},\"display\":\"Quality Assurance Analyst at Wells Fargo Financial (since 2009)\"},{\"@valid_since\":\"2014-01-01\",\"@last_seen\":\"2016-09-29\",\"title\":\"Store Manager\",\"organization\":\"Wells Fargo\",\"date_range\":{\"start\":\"2007-02-01\",\"end\":\"2009-12-01\"},\"display\":\"Store Manager at Wells Fargo (2007-2009)\"}],\"educations\":[{\"@valid_since\":\"2013-11-28\",\"@last_seen\":\"2016-09-29\",\"degree\":\"Associates, Business Management, Business Management\",\"school\":\"Miami Dade College\",\"date_range\":{\"start\":\"1998-01-01\",\"end\":\"2000-12-31\"},\"display\":\"Associates, Business Management, Business Management from Miami Dade College (1998-2000)\"}],\"relationships\":[{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"@type\":\"present\",\"first\":\"Damarys\",\"middle\":\"Del\",\"last\":\"Navarro\",\"display\":\"Damarys Del Navarro\"}]},{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"@type\":\"other\",\"names\":[{\"@valid_since\":\"2017-03-20\",\"@last_seen\":\"2017-03-20\",\"@type\":\"present\",\"first\":\"Odalys\",\"middle\":\"M\",\"last\":\"Lara\",\"display\":\"Odalys M Lara\"}]}],\"user_ids\":[{\"@valid_since\":\"2011-11-15\",\"content\":\"8746315075@bebo\"},{\"@valid_since\":\"2011-11-28\",\"content\":\"100002984328480@facebook\"},{\"@valid_since\":\"2012-09-22\",\"@last_seen\":\"2016-09-29\",\"content\":\"48/7a6/b28@linkedin\"},{\"@valid_since\":\"2012-09-22\",\"@last_seen\":\"2016-09-29\",\"content\":\"#b287a648@linkedin\"},{\"@valid_since\":\"2012-09-22\",\"@last_seen\":\"2016-09-29\",\"content\":\"169176272@linkedin\"}],\"images\":[{\"@valid_since\":\"2015-12-27\",\"@last_seen\":\"2016-09-29\",\"url\":\"https://media.licdn.com/mpr/mpr/shrinknp_200_200/p/8/005/093/0e5/1f5d20c.jpg\",\"thumbnail_token\":\"AE2861B20B7D6E22D4C9479C5C7387EF9C9CE823D35EABEA7AAFCEB4822D4BE6583BC7DC98D6B5210198C7212B2FD21476031CBAF10DC74F8CC9281F4F18446CEA98963555E370E9491EA6BC81E3E3BABACAEE79\"},{\"@valid_since\":\"2011-11-28\",\"url\":\"http://graph.facebook.com/100002984328480/picture?type=large\",\"thumbnail_token\":\"AE2861B242686E6ACBCD539D133B8AE59A9AE962DB1FA5AA7AF08DABDF6D09FB126B8186C485EF696E858778176997563C4C47FBAE58CA16C28B7649464C5230A194C53600E278\"}]},{\"@match\":0,\"@search_pointer\":\"3cfb958a822795cbe31cf3463f51172e3ef9b38e8a1bf5a7d0\",\"names\":[{\"@valid_since\":\"2008-02-02\",\"@last_seen\":\"2015-07-28\",\"first\":\"Diego\",\"last\":\"Vargas\",\"display\":\"Diego Vargas\"}],\"usernames\":[{\"@valid_since\":\"2014-01-01\",\"content\":\"diego.vargas.5283166\"}],\"phones\":[{\"@valid_since\":\"2013-01-01\",\"@last_seen\":\"2015-05-05\",\"@type\":\"mobile\",\"country_code\":1,\"number\":9492411299,\"display\":\"949-241-1299\",\"display_international\":\"949-241-1299\"},{\"@valid_since\":\"2014-12-01\",\"@last_seen\":\"2014-12-01\",\"@type\":\"mobile\",\"country_code\":1,\"number\":9494339209,\"display\":\"949-433-9209\",\"display_international\":\"949-433-9209\"}],\"gender\":{\"@valid_since\":\"2008-02-02\",\"content\":\"male\"},\"dob\":{\"@valid_since\":\"2009-12-14\",\"date_range\":{\"start\":\"1963-12-15\",\"end\":\"1964-01-29\"},\"display\":\"53 years old\"},\"languages\":[{\"@inferred\":true,\"region\":\"US\",\"language\":\"en\",\"display\":\"en_US\"}],\"addresses\":[{\"@valid_since\":\"2009-12-14\",\"@last_seen\":\"2015-07-28\",\"country\":\"US\",\"state\":\"CA\",\"city\":\"Irvine\",\"street\":\"Knollglen\",\"house\":\"118\",\"zip_code\":\"92614\",\"display\":\"118 Knollglen, Irvine, California\"},{\"@valid_since\":\"2013-10-02\",\"country\":\"US\",\"state\":\"CA\",\"city\":\"Irvine\",\"street\":\"Knoll\",\"house\":\"118\",\"zip_code\":\"92697\",\"display\":\"118 Knoll, Irvine, California\"},{\"@valid_since\":\"2010-09-06\",\"@last_seen\":\"2014-12-01\",\"country\":\"US\",\"state\":\"CA\",\"city\":\"Irvine\",\"street\":\"Veneto\",\"house\":\"826\",\"zip_code\":\"92614\",\"display\":\"826 Veneto, Irvine, California\"},{\"@valid_since\":\"2012-08-09\",\"country\":\"US\",\"state\":\"CA\",\"city\":\"Irvine\",\"street\":\"Thunder Run\",\"house\":\"10\",\"apartment\":\"8I\",\"zip_code\":\"92614\",\"display\":\"10-8I Thunder Run, Irvine, California\"},{\"@valid_since\":\"2013-01-11\",\"country\":\"US\",\"state\":\"CA\",\"city\":\"Aliso Viejo\",\"street\":\"Thunder Run\",\"house\":\"10\",\"zip_code\":\"92653\",\"display\":\"10 Thunder Run, Aliso Viejo, California\"},{\"@valid_since\":\"2012-10-16\",\"country\":\"US\",\"state\":\"CA\",\"city\":\"Campbell\",\"display\":\"Campbell, California\"},{\"@valid_since\":\"2012-12-09\",\"country\":\"US\",\"state\":\"CA\",\"city\":\"Santa Ana\",\"display\":\"Santa Ana, California\"},{\"@valid_since\":\"2012-12-09\",\"country\":\"US\",\"state\":\"CA\",\"city\":\"Maywood\",\"zip_code\":\"90270\",\"display\":\"Maywood, California\"},{\"@valid_since\":\"2012-12-09\",\"country\":\"US\",\"state\":\"TX\",\"city\":\"Dallas\",\"display\":\"Dallas, Texas\"},{\"@valid_since\":\"2012-12-09\",\"country\":\"US\",\"state\":\"TX\",\"city\":\"Houston\",\"display\":\"Houston, Texas\"},{\"@valid_since\":\"2012-12-09\",\"country\":\"US\",\"state\":\"TX\",\"city\":\"Irving\",\"display\":\"Irving, Texas\"},{\"@valid_since\":\"2008-02-02\",\"country\":\"US\",\"state\":\"PA\",\"city\":\"Irvine\",\"display\":\"Irvine, Pennsylvania\"}],\"jobs\":[{\"@valid_since\":\"2009-12-14\",\"title\":\"Sales\",\"display\":\"Sales\"},{\"@valid_since\":\"2009-12-14\",\"organization\":\"www.plotters.com\",\"display\":\"www.plotters.com\"}],\"educations\":[{\"@valid_since\":\"2009-12-14\",\"school\":\"Sunny Hills High\",\"date_range\":{\"start\":\"1978-01-01\",\"end\":\"1981-12-31\"},\"display\":\"Sunny Hills High (1978-1981)\"}],\"relationships\":[{\"@valid_since\":\"2013-03-22\",\"@type\":\"family\",\"names\":[{\"@valid_since\":\"2013-03-22\",\"first\":\"Mercedes\",\"last\":\"Vargas\",\"display\":\"Mercedes Vargas\"}]}],\"user_ids\":[{\"@valid_since\":\"2013-02-14\",\"content\":\"103114796793987528092@google\"},{\"@valid_since\":\"2008-02-02\",\"content\":\"45737360@friendster\"},{\"@valid_since\":\"2010-06-19\",\"content\":\"1584495398@facebook\"}],\"images\":[{\"@valid_since\":\"2014-03-17\",\"url\":\"http://lh4.googleusercontent.com/-FAA9oCMPHMk/AAAAAAAAAAI/AAAAAAAAAC0/REfQoMF2TXA/photo.jpg\",\"thumbnail_token\":\"AE2861B242686E61D1980D9252328CEA9A8DF568C252A9AB63BAD2EFC13E56A4047EF3F4B784B41213FABF5C1F32A365183272C39F7CB63BEAD6506D2169601884E8B14301FE12CF0125B996E1B5C48B9FD8AB24A6B14FC320C61FA8D869688DE9C5B2455F54\"},{\"@valid_since\":\"2010-06-19\",\"url\":\"http://graph.facebook.com/1584495398/picture?type=large\",\"thumbnail_token\":\"AE2861B242686E6ACBCD539D133B8AE59A9AE962DB1FA5AA7AF08DAED7690DF01E608C8DD9CDB2322ADF85744B699B543C4E5FE3AC5A925CC78A78485D1D1768F691\"},{\"@valid_since\":\"2013-01-01\",\"url\":\"http://avatars.zenfs.com/users/1nnauiA9GAAECP4E_IIstBQ==.large.png\",\"thumbnail_token\":\"AE2861B242686E6CCFCD57944F2EC5FC9A96E07E9E52A9A838AACFFE9D2E16F8453DD4C09FFCE2161FEBB2522429A77B103A40F69C6CCA478D95705E074D0F29ABCED66442B824B75240E0E994\"}]}]}"
    Ok(body)
  }

}